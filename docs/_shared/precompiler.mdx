import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

Jimmer itself is technology-neutral, i.e. you can integrate it with any other framework, in addition to providing a quick configuration of the Jimmer Spring boot starter.

In this article, you will learn to use Jimmer alone, or take Jimmer starter, you can also adopt the community provided plug-ins.

### To be used on its own

<Tabs groupId="buildTool">
<TabItem value="java_maven" label="Java(Maven)">
```xml title="pom.xml"
<dependencies>
    <!-- highlight-start -->
    <dependency>
        <groupId>org.babyfish.jimmer</groupId>
        <artifactId>jimmer-sql</artifactId>
        <version>${jimmer.version}</version>
    </dependency>
    <dependency>
        <groupId>org.babyfish.jimmer</groupId>
        <artifactId>jimmer-apt</artifactId>
        <version>${jimmer.version}</version>
    </dependency>
    <!-- highlight-end -->
</dependencies>

<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>3.10.1</version>
            <configuration>
                <annotationProcessorPaths>
                    <!-- If you are using lombok, you need to make sure you add this before the jimmer apt -->
                    <!-- <path>
                        <groupId>org.projectlombok</groupId>
                        <artifactId>lombok</artifactId>
                        <version>${lombok.version}</version>
                    </path> -->

                    <!-- highlight-start -->
                    <path>
                        <groupId>org.babyfish.jimmer</groupId>
                        <artifactId>jimmer-apt</artifactId>
                        <version>${jimmer.version}</version>
                    </path>
                    <!-- highlight-end -->
                </annotationProcessorPaths>
            </configuration>
        </plugin>
    </plugins>
</build>
```
</TabItem>

<TabItem value="java_gradle" label="Java(Gradle)">
```kts title="build.gradle.kts"
dependencies {
    // if use lombok
    // annotationProcessor("org.projectlombok:lombok:${lombokVersion}")
    <!-- highlight-start -->
    implementation("org.babyfish.jimmer:jimmer-sql:${jimmerVersion}")
    annotationProcessor("org.babyfish.jimmer:jimmer-apt:${jimmerVersion}")
    <!-- highlight-end -->
}
```
</TabItem>

<TabItem value="kotlin_gradle" label="Kotlin(Gradle)">
```kotlin title="build.gradle.kts"
plugins {
    kotlin("jvm") version "2.1.0"
    // ksp
    id("com.google.devtools.ksp") version "2.1.0-1.0.29"
}

val jimmerVersion = "0.9.45"

dependencies {
    // ksp
    ksp("org.babyfish.jimmer:jimmer-ksp:${jimmerVersion}")
    // Jimmer sql for kotlin
    implementation("org.babyfish.jimmer:jimmer-sql-kotlin:${jimmerVersion}")
}

// Add generated code to compile path.
// Gradle build works without this, but IntelliJ won't find generated code. 
kotlin {
    sourceSets.main {
        kotlin.srcDir("build/generated/ksp/main/kotlin")
    }
}
```
</TabItem>
</Tabs>

### with spring-boot-starter

<Tabs groupId="buildTool">
<TabItem value="java_maven" label="Java(Maven)">

```xml title="pom.xml"
<dependencies>
    <dependency>
        <groupId>org.babyfish.jimmer</groupId>
        <artifactId>jimmer-spring-boot-starter</artifactId>
        <version>${jimmer.version}</version>
    </dependency>
</dependencies>

<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
                <annotationProcessorPaths>
                    <!-- If you are using lombok, you need to make sure you add this before the jimmer apt -->
                    <!-- <path>
                        <groupId>org.projectlombok</groupId>
                        <artifactId>lombok</artifactId>
                        <version>${lombok.version}</version>
                    </path> -->

                    <path>
                        <groupId>org.babyfish.jimmer</groupId>
                        <artifactId>jimmer-apt</artifactId>
                        <version>${jimmer.version}</version>
                    </path>
                </annotationProcessorPaths>
            </configuration>
        </plugin>
    </plugins>
</build>
    ```

</TabItem>
<TabItem value="java_gradle" label="Java(Gradle)">

```groovy title="build.gradle"
dependencies {
    ...omitted other dependencies...
    annotationProcessor "org.babyfish.jimmer:jimmer-apt:${jimmerVersion}"
    implementation "org.babyfish.jimmer:jimmer-spring-boot-starter:${jimmerVersion}"
}
```

</TabItem>
<TabItem value="kotlin_gradle" label="Kotlin(Gradle.kts)">

```kotlin title="build.gradle.kts"
plugins {
    // use ksp plugin
    id("com.google.devtools.ksp") version "1.7.10-1.0.6"

    ...omitted other dependencies...
}
dependencies {
    implementation("org.babyfish.jimmer:jimmer-spring-boot-starter:${jimmerVersion}")
    // use jimmer ksp
    // highlight-next-line
    ksp("org.babyfish.jimmer:jimmer-ksp:${jimmerVersion}")

    ...omitted other dependencies...
}

// Add generated code to compile path.
// Gradle build works without this, but IntelliJ won't find generated code. 
kotlin {
    sourceSets.main {
        kotlin.srcDir("build/generated/ksp/main/kotlin")
    }
}
```

</TabItem>
</Tabs>

:::important
Java projects are often used in conjunction with Lombok. By default, if the project has no other APTs besides lombok, it is sufficient to import the lombok dependencies. However, once other APT configurations are introduced *(not necessarily Jimmer's APT, it can be any other APT)*, **then lombok's APT must be explicitly configured, and lombok's APT must come before Jimmer's in Maven.**

There is no need to declare Jimmer's APT if the community-provided Gradle plugin is used (see below).
:::

### Use plugins provided by the community

    <details>
    <summary>https://github.com/ArgonarioD/gradle-plugin-jimmer</summary>
    <Tabs>
    <TabItem value="java_gradle" label="Java (Gradle Plugin)">

    ```groovy title="build.gradle"
    plugins {
        // Starting from Gradle 7.0, you can use "latest.release" instead of a specific version number to represent the use of the latest version.
        // You can also use the '+' character to indicate matching the latest version number starting from the '+' character.
        id "tech.argonariod.gradle-plugin-jimmer" version "latest.release"

        ...other plugins omitted...
    }

    jimmer {
        // Set the Jimmer dependency version, where you can also use version range expressions such as "latest.release" or "0.+"
        version = "${jimmerVersion}"
    }
    ```

    </TabItem>
    <TabItem value="kotlin_gradle" label="Kotlin (Gradle Plugin)">

    ```kotlin title="build.gradle.kts"
    plugins {
        // Starting from Gradle 7.0, you can use "latest.release" instead of a specific version number to represent the use of the latest version.
        id("tech.argonariod.gradle-plugin-jimmer") version "latest.release"
        // You can also use the '+' character to indicate matching the latest version number starting from the '+' character.
        // Add KSP plugin
        id("com.google.devtools.ksp") version "1.7.10+"

        ...other plugins omitted...
    }

    jimmer {
        // Set the Jimmer dependency version, where you can also use version range expressions such as "latest.release" or "0.+"
        version = "${jimmerVersion}"
    }
    ```

    </TabItem>
    </Tabs>
    </details>

    {/* TODO: Insert gradle plugin before this line */}

:::note
[KSP](https://kotlinlang.org/docs/ksp-overview.html) only supports gradle,
It has been proven that KSP's third-party Maven plug-in support cannot keep up with the version 
iteration of 'kotlin/KSP' itself, and often encounters many problems during the upgrade process.

Eventually, Jimmer dropped Maven support for Kotlin and asked Kotlin developers to use Gradle.
:::
